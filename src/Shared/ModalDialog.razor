<div class="@(showModal ? "relative z-10" : "hidden")">
    <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>
    
    <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
        <div class="flex min-h-full items-end justify-center p-4 text-center items-center p-0">
            <div class="relative transform overflow-hidden rounded-xl bg-white text-left shadow-xl transition-all my-8 w-full max-w-xl">
                @if (!string.IsNullOrEmpty(Title))
                {
                    <div class="flex items-center pt-4 pl-4 pr-4 space-x-1">
                        @if (Type == ActionType.Create)
                        {
                            <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 12H20M12 4V20" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        }
                        <p class="font-bold text-2xl">@Title</p>
                    </div>
                }
                <div class="bg-white px-4 pb-4 pt-2 p-6 pb-4">
                    @ChildContent
                </div>
                <div class="bg-gray-50 px-4 py-3 flex justify-between space-x-6">
                    <button @onclick="Close" type="button" class="mt-3 inline-flex w-full justify-center rounded-lg bg-scs-gray hover:bg-pcs-gray px-3 py-2 text-sm font-semibold text-white mt-0 w-auto">Cancelar</button>
                    <button @onclick="Submit" type="button" class="mt-3 inline-flex w-full justify-center rounded-lg bg-pcs-blue hover:bg-scs-blue px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-50 mt-0 w-auto">Confirmar</button>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public string? Title { get; set; }

    [Parameter]
    public ActionType Type { get; set; }

    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    [Parameter]
    public EventCallback Submit { get; set; }

    private bool showModal = false;

    public void Open() => showModal = true;

    public void Close() => showModal = false;

    public enum ActionType
    {
        Create,
        Update,
        Delete
    }
}
